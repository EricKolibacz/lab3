%% Task 1.1
clear all;
s = tf('s');
close all;
m = 22000;
J = 700000;
c = 40000;
c1 = c;
c2 = c;
k = 600000;
k1 = k;
k2 = k;
L = 6;
L1 = L;
L2 = L;

exictation = 1;
f = 1;
run_time = 200;
A = [0 1 0 0;
    -(k1+k2)/m -(c1+c2)/m 0 0;
    0 0 0 1;
    0 0 -2*L/J -2*L/J];
%(L1*k1+L2*k2)/J (L1*c1+L2*c2)/J 0 0];
B = [0 0 0 0;
    k1/m c1/m k2/m c2/m;
    0 0 0 0;
    -L1*k1/J -L1*c1/J +L2*k2/J +L2*c2/J];
C = [1 0 0 0;
    0 0 1 0];
D = [0 0 0 0
    0 0 0 0];



G_ss = ss(A,B,C,D);

sim Hinf_sim
plot(z_SH.Time,z_SH.Data,'Color','r','LineWidth',1.5,'DisplayName','Output for Skyhook');
legend('show','Location','NorthEast');
xlabel('Time [sec]');
ylabel('Displacement [m]');
grid on;
figure;
plot(X_SH.Time,X_SH.Data,'Color','b','LineWidth',1.5,'DisplayName','X');
legend('show','Location','NorthEast');
xlabel('Time [sec]');
ylabel('Angle [Â°]');